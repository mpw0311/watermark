(function(e){function t(t){for(var r,a,c=t[0],u=t[1],s=t[2],h=0,l=[];h<c.length;h++)a=c[h],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&l.push(i[a][0]),i[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);f&&f(t);while(l.length)l.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},i={app:0},o=[];function c(e){return u.p+"js/"+({watermark:"watermark"}[e]||e)+"."+{watermark:"3e9d927e"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={watermark:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({watermark:"watermark"}[e]||e)+"."+{watermark:"50a38612"}[e]+".css",i=u.p+r,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var s=o[c],h=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(h===r||h===i))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){s=l[c],h=s.getAttribute("data-href");if(h===r||h===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],f.parentNode.removeChild(f),n(o)},f.href=i;var d=document.getElementsByTagName("head")[0];d.appendChild(f)})).then((function(){a[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=o);var s,h=document.createElement("script");h.charset="utf-8",h.timeout=120,u.nc&&h.setAttribute("nonce",u.nc),h.src=c(e);var l=new Error;s=function(t){h.onerror=h.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}i[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:h})}),12e4);h.onerror=h.onload=s,document.head.appendChild(h)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],h=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var f=h;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0761":function(e,t,n){"use strict";var r=n("c5a8"),a=n.n(r);a.a},"41d0":function(e,t,n){},"8e05":function(e,t,n){"use strict";n("6a61");var r=n("cf7f"),a=n("1462"),i=n("a340"),o=n("bb06"),c=n("9691"),u=n("0372"),s=n("f640"),h=(n("e18c"),n("e35a"),n("96db"),n("9cf3"),n("af86"),n("f1a9"),n("26fe"),n("2984"),n("7c18")),l=n.n(h),f=n("82ae"),d=n.n(f),v=new URLSearchParams(location.search),p=v.get("token")||localStorage.getItem("token")||"";p&&(localStorage.setItem("token",p),location.search="");var m=d.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:""}).BASE_API||"",timeout:5e3});m.interceptors.request.use((function(e){return p&&(e.headers["X-Token"]=p),e}),(function(e){console.error(e),Promise.reject(e)})),m.interceptors.response.use((function(e){return e}),(function(e){return console.error("err:"+e),l()({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}));var b=m,y=function(e){return b.post("api/v1/login",e)},g=function(){return b.get("api/v1/getUserInfo")},k={login:y,getUserInfo:g},w=function(e){Object(o["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(a["a"])(this,n),e=t.apply(this,arguments),e.username="",e.userRoles=["watermark"],e.token="",e}return Object(i["a"])(n,[{key:"login",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k.login(t);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUserInfo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k.getUserInfo();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"UPDATE_INFO",value:function(e){var t=e.username,n=e.userRoles,r=e.token;this.username=t,this.userRoles=n,this.token=r}},{key:"_token",get:function(){return this.token}},{key:"_isLogin",get:function(){return!!this._token}},{key:"_userRoles",get:function(){return this.userRoles}}]),n}(s["d"]);Object(u["a"])([s["a"]],w.prototype,"login",null),Object(u["a"])([s["a"]],w.prototype,"getUserInfo",null),Object(u["a"])([s["c"]],w.prototype,"UPDATE_INFO",null),w=Object(u["a"])([Object(s["b"])({name:"userCenter",namespaced:!0})],w);t["a"]=w},a9ef:function(e,t,n){"use strict";var r=n("1462"),a=n("a340"),i=n("bb06"),o=n("9691"),c=n("0372"),u=n("f640"),s=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.apply(this,arguments),e.mainHeaderActiveName="0",e}return Object(a["a"])(n,[{key:"UPDATE_INFO",value:function(e){var t=e.mainHeaderActiveName;this.mainHeaderActiveName=t}},{key:"_mainHeaderActiveName",get:function(){return this.mainHeaderActiveName}}]),n}(u["d"]);Object(c["a"])([u["c"]],s.prototype,"UPDATE_INFO",null),s=Object(c["a"])([Object(u["b"])({name:"watermark",namespaced:!0})],s),t["a"]=s},c415:function(e,t,n){"use strict";var r=n("d785"),a=n.n(r);a.a},c5a8:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("3880");var r=n("b9bc"),a=n.n(r),i=(n("a133"),n("ed0d"),n("f09c"),n("e117"),n("0261")),o=n("b39f"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isPc?n("router-view"):n("div",{staticClass:"mobile-warning"},[n("div",{ref:"chartBox",staticClass:"canvas-chart"}),n("p",[e._v("请在PC端浏览器使用")])])],1)},u=[],s=(n("e18c"),[{path:"/",name:"Watermark",redirect:"/watermark"},{path:"/watermark",name:"Watermark",meta:{title:"Watermark",role:["watermark"]},component:function(){return n.e("watermark").then(n.bind(null,"7d48"))}}]),h=(n("b130"),n("90aa"),n("52ef")),l=n("3211"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"exception-wrapper"},[n("span",[e._v(e._s(e.exception))])])},d=[],v=i["default"].extend({data:function(){return{exception:"404"}},created:function(){var e=this.$route.query.exception;e&&"string"===typeof e&&(this.exception=e)}}),p=v,m=(n("c415"),n("9ca4")),b=Object(m["a"])(p,f,d,!1,null,"611510a6",null),y=b.exports,g={path:"*",name:"Exception",meta:{hidden:!0},component:y},k=g;i["default"].use(l["a"]);var w=[],O=new l["a"]({mode:"history",base:"",routes:w});O.beforeEach((function(e,t,n){var r;document.title=(null===e||void 0===e||null===(r=e.meta)||void 0===r?void 0:r.title)?e.meta.title:"widgets",n()}));var j=O,x=function(e,t){var n;return!(null===e||void 0===e||null===(n=e.role)||void 0===n?void 0:n.length)||e.role.includes(t)},A=function e(t,n){var r,a=[],i=Object(h["a"])(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,c=o.children,u=o.meta;x(u,n)&&((null===c||void 0===c?void 0:c.length)&&(o.children=e(c,n)),a.push(o))}}catch(s){i.e(s)}finally{i.f()}return a.push(k),a},C=function(e,t){return A(e,t)},E=n("f640"),_=n("8e05"),P=n("f8dd"),T=n("5748"),L=n("1462"),R=n("a340"),M=n("bb06"),S=n("9691"),I=(n("1c2e"),n("f557"),function(){function e(){Object(L["a"])(this,e)}return Object(R["a"])(e,[{key:"convertRad",value:function(e){return Math.PI/180*e}},{key:"convertAngle",value:function(e){return e/(Math.PI/180)}},{key:"getVectorLength",value:function(e,t){return Math.hypot(e,t)}},{key:"getDir",value:function(e,t){return Math.atan2(t,e)}},{key:"getVectorXPos",value:function(e,t){return e*Math.cos(t)}},{key:"getVectorYPos",value:function(e,t){return e*Math.sin(t)}}]),e}()),B=function(e){Object(M["a"])(n,e);var t=Object(S["a"])(n);function n(e){var r;Object(L["a"])(this,n),r=t.call(this);var a=e.ref,i=e.height,o=e.width;return r.ref=a,r.height=i,r.width=o,r.validate(e),r.canvas=r.createCanvasElement(),r.ctx=r.canvas.getContext("2d"),r.ref.appendChild(r.canvas),r.transformAxis(),r}return Object(R["a"])(n,[{key:"validate",value:function(e){var t=e.ref;if(!(t instanceof HTMLElement))throw new Error("ref ".concat(t," 不是HTMLElement"));return!0}},{key:"transformAxis",value:function(){var e,t,n=parseInt((this.width/2).toString()),r=parseInt((this.height/2).toString());null===(e=this.ctx)||void 0===e||e.translate(n,r),null===(t=this.ctx)||void 0===t||t.scale(1,-1)}},{key:"createCanvasElement",value:function(){var e=document.createElement("canvas");return e.setAttribute("width",this.convertPX(this.width)),e.setAttribute("height",this.convertPX(this.height)),e.style.width="100%",e.style.height="100%",e}},{key:"convertPX",value:function(e){if("number"===typeof e)return"".concat(e,"px");if("string"===typeof e)return/px^/.test(e)?e:"".concat(e,"px");throw new Error("".concat(e," 类型错误"))}}]),n}(I),N=n("1998"),U=n("9131"),D=function(e){Object(M["a"])(n,e);var t=Object(S["a"])(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(L["a"])(this,n),e=t.call(this),e[0]=r,e[1]=a,e}return Object(R["a"])(n,[{key:"copy",value:function(){return new n(this.x,this.y)}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"scale",value:function(e){return this.x*=e,this.y*=e,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=Object(N["a"])(this,2),a=r[0],i=r[1];return this.x=a*t+i*-t,this.y=a*n+i*t,this}},{key:"getVectorLength",value:function(e,t){return Math.hypot(e,t)}},{key:"x",get:function(){return this[0]},set:function(e){this[0]=e}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=e}},{key:"dir",get:function(){return Math.atan2(this.y,this.x)}}]),n}(Object(U["a"])(Array)),H=function(e){Object(M["a"])(n,e);var t=Object(S["a"])(n);function n(e){var r;return Object(L["a"])(this,n),r=t.call(this,e),r.buildTree(e),r}return Object(R["a"])(n,[{key:"buildTree",value:function(e){if(this.ctx){var t=e.position,n=void 0===t?[0,0]:t,r=e.length,a=void 0===r?50:r,i=e.thickness,o=void 0===i?10:i;this.ctx.lineCap="round";var c=Object(P["a"])(D,Object(T["a"])(n));this.drawBranch(this.ctx,c,a,o,1,3)}}},{key:"drawBranch",value:function(e,t,n,r,a,i){var o=(new D).rotate(a).scale(n),c=t.copy().add(o);if(e.lineWidth=r,e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(c[0],c[1]),e.stroke(),r>2){var u=Math.PI/4+.5*(a+.2)+i*(Math.random()-.5);this.drawBranch(e,c,.9*n,.8*r,u,.9*i);var s=Math.PI/4+.5*(a-.2)+i*(Math.random()-.5);this.drawBranch(e,c,.9*n,.8*r,s,.9*i)}r<5&&Math.random()<.3&&(e.save(),e.strokeStyle="#c72c35",e.lineWidth=6*Math.random()+3,e.beginPath(),e.moveTo(c.x,c.y),e.lineTo(c.x,c.y-2),e.stroke(),e.restore())}},{key:"update",value:function(e){var t;null===(t=this.ctx)||void 0===t||t.clearRect(-this.width/2,this.height/2,this.width,-this.height),this.buildTree(e)}}]),n}(B),$=(n("41d0"),i["default"].extend({computed:{$UserStore:function(){return Object(E["e"])(_["a"],this.$store)},userRole:function(){return this.$UserStore._userRoles[0]},isPc:function(){return this.$store.state.isPc}},methods:{createRouters:function(){this.$router.addRoutes(C(s,this.userRole))},renderTree:function(){new H({ref:this.$refs.chartBox,height:600,width:600,length:40,position:[0,-100]})}},created:function(){this.isPc&&this.createRouters()},mounted:function(){!this.isPc&&this.renderTree()},watch:{userRole:function(){this.createRouters()}}})),V=$,F=(n("0761"),Object(m["a"])(V,c,u,!1,null,"f3189760",null)),W=F.exports,X=n("9f3a"),q=(n("84bc"),n("3466"),n("2eeb"),n("ea69"),n("053b"),n("0372")),J=function(e){Object(M["a"])(n,e);var t=Object(S["a"])(n);function n(){var e;return Object(L["a"])(this,n),e=t.apply(this,arguments),e.tabCacheList=[],e}return Object(R["a"])(n,[{key:"ADD_TAB_CACHE",value:function(e){this.tabCacheList.every((function(t){return t.path!==e.path}))&&this.tabCacheList.push(e)}},{key:"DELETE_TAB_CACHE",value:function(e){var t=this.tabCacheList.findIndex((function(t){return t.path===e}));-1!==t&&this.tabCacheList.splice(t,1)}},{key:"CLEAR_TAB_CACHE",value:function(){this.tabCacheList=[]}},{key:"cacheList",get:function(){return this.tabCacheList}},{key:"tabViewList",get:function(){return this.tabCacheList.map((function(e){return{path:e.path,key:e.path,label:e.name}}))}},{key:"routerCached",get:function(){return this.tabCacheList.map((function(e){return e.name}))}}]),n}(E["d"]);Object(q["a"])([E["c"]],J.prototype,"ADD_TAB_CACHE",null),Object(q["a"])([E["c"]],J.prototype,"DELETE_TAB_CACHE",null),Object(q["a"])([E["c"]],J.prototype,"CLEAR_TAB_CACHE",null),J=Object(q["a"])([Object(E["b"])({name:"tabView",namespaced:!0})],J);var K=J,Y=n("a9ef"),z={tabView:K,userCenter:_["a"],watermark:Y["a"]},G=(n("ecb4"),function(){return!/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)});i["default"].use(X["a"]);var Q=new X["a"].Store({state:{isPc:G()},getters:{},mutations:{},actions:{},modules:z});i["default"].config.productionTip=!1,i["default"].use(o["a"].Plugin),i["default"].use(a.a),new i["default"]({router:j,store:Q,render:function(e){return e(W)}}).$mount("#app")},d785:function(e,t,n){}});