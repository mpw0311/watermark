(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["watermark"],{"0019":function(t,e,a){"use strict";var n=a("485e"),r=a("a392").left,i=a("3891"),o=a("64f1"),s=a("7047"),l=a("a976"),c=i("reduce"),u=o("reduce",{1:0}),f=!l&&s>79&&s<83;n({target:"Array",proto:!0,forced:!c||!u||f},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"034f":function(t,e,a){"use strict";var n=a("485e"),r=a("bc2f").filter,i=a("243e"),o=a("64f1"),s=i("filter"),l=o("filter");n({target:"Array",proto:!0,forced:!s||!l},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"0610":function(t,e,a){var n=a("21e0"),r=a("7b58"),i="["+r+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),l=function(t){return function(e){var a=String(n(e));return 1&t&&(a=a.replace(o,"")),2&t&&(a=a.replace(s,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},"0988":function(t,e,a){"use strict";a("f84b")},1564:function(t,e,a){"use strict";var n=a("485e"),r=a("bc2f").map,i=a("243e"),o=a("64f1"),s=i("map"),l=o("map");n({target:"Array",proto:!0,forced:!s||!l},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},1660:function(t,e,a){},"1aa5":function(t,e,a){"use strict";a("5236")},3124:function(t,e,a){"use strict";a("c368");var n=a("d496"),r=a("aad0"),i=a("6d05"),o=a("dc12"),s=a("13d0"),l=i("species"),c=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),f=i("replace"),h=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),d=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,f){var m=i(t),v=!r((function(){var e={};return e[m]=function(){return 7},7!=""[t](e)})),p=v&&!r((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[l]=function(){return a},a.flags="",a[m]=/./[m]),a.exec=function(){return e=!0,null},a[m](""),!e}));if(!v||!p||"replace"===t&&(!c||!u||h)||"split"===t&&!d){var g=/./[m],b=a(m,""[t],(function(t,e,a,n,r){return e.exec===o?v&&!r?{done:!0,value:g.call(e,a,n)}:{done:!0,value:t.call(a,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),y=b[0],w=b[1];n(String.prototype,t,y),n(RegExp.prototype,m,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}f&&s(RegExp.prototype[m],"sham",!0)}},"31bf":function(t,e,a){(function(a){var n,r,i;(function(a,o){r=[],n=o,i="function"===typeof n?n.apply(e,r):n,void 0===i||(t.exports=i)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function n(t,e,a){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){l(n.response,e,a)},n.onerror=function(){console.error("could not download file")},n.send()}function r(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(t,e,a){var s=o.URL||o.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?i(l):r(l.href)?n(t,e,a):i(l,l.target="_blank")):(l.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,a,o){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,o),a);else if(r(t))n(t,a,o);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){i(s)}))}}:function(t,e,a,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return n(t,e,a);var i="application/octet-stream"===t.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&l||s)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},u.readAsDataURL(t)}else{var f=o.URL||o.webkitURL,h=f.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout((function(){f.revokeObjectURL(h)}),4e4)}});o.saveAs=l.saveAs=l,t.exports=l}))}).call(this,a("0288"))},3610:function(t,e,a){"use strict";var n=a("485e"),r=a("554f");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"3bb9":function(t,e,a){},4057:function(t,e,a){var n=a("c7d8"),r=a("dc12");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var i=a.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"44d7":function(t,e,a){},"4c9f":function(t,e,a){"use strict";var n=a("485e"),r=a("bc2f").every,i=a("3891"),o=a("64f1"),s=i("every"),l=o("every");n({target:"Array",proto:!0,forced:!s||!l},{every:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},5236:function(t,e,a){},"554f":function(t,e,a){"use strict";var n=a("bc2f").forEach,r=a("3891"),i=a("64f1"),o=r("forEach"),s=i("forEach");t.exports=o&&s?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"57b2":function(t,e,a){},"588e":function(t,e,a){var n=a("485e"),r=a("35a9"),i=a("996e"),o=a("3274"),s=a("977b"),l=a("bab6");n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,a,n=o(t),r=s.f,c=i(n),u={},f=0;while(c.length>f)a=r(n,e=c[f++]),void 0!==a&&l(u,e,a);return u}})},7334:function(t,e,a){"use strict";a("b296")},"753f":function(t,e){const a=function(t){const e=t.split(",")[0].split(":")[1].split(";")[0],a=atob(t.split(",")[1]),n=a.length,r=new window.ArrayBuffer(n),i=new window.Uint8Array(r);for(let o=0;o<n;o++)i[o]=a.charCodeAt(o);return new Blob([i],{type:e})},n=function(){if(!t.exports.supported)return;const e=window.HTMLCanvasElement.prototype;!e.toBlob&&e.toDataURL&&(e.toBlob=function(t,e,n){t(a(this.toDataURL(e,n)))})},r="undefined"!==typeof window.HTMLCanvasElement&&"undefined"!==typeof window.atob&&"undefined"!==typeof window.Blob&&"undefined"!==typeof window.ArrayBuffer&&"undefined"!==typeof window.Uint8Array;t.exports=a,t.exports.init=n,t.exports.supported=r},"7b58":function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"7d48":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"watermark-root"},[a("main-header"),a("watermark-layout",{scopedSlots:t._u([{key:"header",fn:function(){return[a("watermark-header",{attrs:{formData:t.option,"disabled-save":!t.fileList.length},on:{"update:formData":function(e){t.option=e},"update:form-data":function(e){t.option=e},save:t.exportImage,"file-change":t.handleAddFile}})]},proxy:!0},{key:"tool",fn:function(){return[a("div",{staticClass:"watermark-tool"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.file&&t.file.name,placement:"bottom-start"}},[t.file?a("span",{staticClass:"file-name"},[t._v(" "+t._s((t.file.size/1024).toFixed())+"KB - "+t._s(t.file.name)+" ")]):t._e()]),a("div",{staticStyle:{width:"280px"}},[a("Watermark-tool",{on:{rotate:t.handleRotate},model:{value:t.zoom,callback:function(e){t.zoom=e},expression:"zoom"}})],1)],1)]},proxy:!0},{key:"aside-left",fn:function(){return[a("watermark-slider",{attrs:{fileList:t.fileList,active:t.file&&t.file.uid},on:{change:t.handlePreview,delete:t.handleDelete}})]},proxy:!0},{key:"aside",fn:function(){return[a("watermark-editor",{attrs:{formData:t.option,width:t.origin.w,height:t.origin.h,ratio:t.origin.ratio},on:{"update:formData":function(e){t.option=e},"update:form-data":function(e){t.option=e},rerender:t.setOption}})]},proxy:!0}])},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"watermark-area"},[a("div",{ref:"ctx-contanier",staticClass:"watermark-content"},[a("div",{ref:"watermark",staticClass:"watermark"})])])]),a("SaveDialog",{attrs:{name:t.imageName},model:{value:t.showSaveDialog,callback:function(e){t.showSaveDialog=e},expression:"showSaveDialog"}}),a("UserAlert")],1)},r=[],i=(a("034f"),a("9f1b"),a("eb5b"),a("c368"),a("948b"),a("a593")),o="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),s=new Uint8Array(16);function l(){if(!o)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(s)}var c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function u(t){return"string"===typeof t&&c.test(t)}for(var f=u,h=[],d=0;d<256;++d)h.push((d+256).toString(16).substr(1));function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(h[t[e+0]]+h[t[e+1]]+h[t[e+2]]+h[t[e+3]]+"-"+h[t[e+4]]+h[t[e+5]]+"-"+h[t[e+6]]+h[t[e+7]]+"-"+h[t[e+8]]+h[t[e+9]]+"-"+h[t[e+10]]+h[t[e+11]]+h[t[e+12]]+h[t[e+13]]+h[t[e+14]]+h[t[e+15]]).toLowerCase();if(!f(a))throw TypeError("Stringified UUID is invalid");return a}var v=m;function p(t,e,a){t=t||{};var n=t.random||(t.rng||l)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){a=a||0;for(var r=0;r<16;++r)e[a+r]=n[r];return e}return v(n)}var g=p,b=(a("a088"),a("6a61"),a("2e91")),y=a("d211"),w=a("0e4d"),k=a("94ef"),x=a("76ff"),O=a("3a68"),j=a("fd63"),_=a("f640"),E=a("0613"),S=(a("c585"),function(){return new Promise((function(t){var e=JSON.parse(localStorage.getItem("bookmarks")||"");e=Array.isArray(e)?e:[],t({code:0,data:e,message:""})}))}),D=function(){return new Promise((function(t){t({code:0,data:!0,message:"添加书签成功"})}))},C={getWatermarks:S,addBookmark:D},A=function(t){Object(x["a"])(a,t);var e=Object(O["a"])(a);function a(){var t;return Object(w["a"])(this,a),t=e.apply(this,arguments),t.mainHeaderActiveName="1",t.option={text:"仅用于办理XXXX，他用无效。",fontSize:22,fontFamily:"黑体",fillStyle:"rgba(100, 100, 100, 0.4)",watermarkWidth:280,watermarkHeight:180,rotate:20,plugins:["watermark"],filterType:"normal",hsv:[0,0,0]},t.bookmarks=[],t}return Object(k["a"])(a,[{key:"UPDATE_OPTION",value:function(t){this.option=t}},{key:"MERGE_OPTION",value:function(t){this.option=Object(y["a"])(Object(y["a"])({},this.option),t)}},{key:"getBookmarks",value:function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.getWatermarks();case 2:e=t.sent,a=e.data,this.UPDATE_BOOKMARKS(a);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"saveBookmarks",value:function(t){if(!Array.isArray(t))return console.error("bookmarks 类型不符");localStorage.setItem("bookmarks",JSON.stringify(t))}},{key:"addBookmark",value:function(t){var e=this.bookmarks.some((function(e){return e.id===t.id||e.name===t.name}));return e?{code:"-1",data:!1,message:"该书签已存在"}:(this.ADD_BOOKMARK(t),{code:"0",data:!0,message:"书签添加成功"})}},{key:"deleteBookmarkById",value:function(t){var e=this.bookmarks.filter((function(e){return e.id!==t}));return this.UPDATE_BOOKMARKS(e),{code:"0",data:!0,message:"删除成功"}}},{key:"ADD_BOOKMARK",value:function(t){this.bookmarks.push(t),localStorage.setItem("bookmarks",JSON.stringify(this.bookmarks))}},{key:"UPDATE_BOOKMARKS",value:function(t){this.bookmarks=t}},{key:"UPDATE_BOOK_BY_ID",value:function(t){var e=this.bookmarks.find((function(e){return e.id===t.id}));e&&Object.assign(e,t)}},{key:"UPDATE_INFO",value:function(t){var e=t.mainHeaderActiveName;this.mainHeaderActiveName=e}},{key:"_mainHeaderActiveName",get:function(){return this.mainHeaderActiveName}}]),a}(_["d"]);Object(j["a"])([_["c"]],A.prototype,"UPDATE_OPTION",null),Object(j["a"])([_["c"]],A.prototype,"MERGE_OPTION",null),Object(j["a"])([_["a"]],A.prototype,"getBookmarks",null),Object(j["a"])([_["a"]],A.prototype,"saveBookmarks",null),Object(j["a"])([_["a"]],A.prototype,"addBookmark",null),Object(j["a"])([_["a"]],A.prototype,"deleteBookmarkById",null),Object(j["a"])([_["c"]],A.prototype,"ADD_BOOKMARK",null),Object(j["a"])([_["c"]],A.prototype,"UPDATE_BOOKMARKS",null),Object(j["a"])([_["c"]],A.prototype,"UPDATE_BOOK_BY_ID",null),Object(j["a"])([_["c"]],A.prototype,"UPDATE_INFO",null),A=Object(j["a"])([Object(_["b"])({dynamic:!0,store:E["a"],name:"watermark",namespaced:!0})],A);var R=Object(_["e"])(A);a("d7d9"),a("4c9f"),a("4322"),a("d174"),a("e412"),a("c645"),a("2522"),a("bfa6"),a("ed88");function M(t,e){if(null==t)return{};var a,n,r={},i=Object.keys(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}function I(t,e){if(null==t)return{};var a,n,r=M(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var T=a("31bf"),P=a("753f"),$=a.n(P);$.a.init();var N=function(t,e,a){return new Promise((function(n,r){t.toBlob((function(t){t?n(t):r()}),"image/".concat(e),a)}))},W=function(){function t(){Object(w["a"])(this,t),this.qualityRatio=.93}return Object(k["a"])(t,[{key:"downloadCanvas",value:function(t,e,a,n){N(t,a,n).then((function(t){return Object(T["saveAs"])(t,e)}))}},{key:"saveAsJPEG",value:function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(e){var a,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:g(),t.abrupt("return",this.downloadCanvas(e,a,"jpeg",this.qualityRatio));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"saveAsPNG",value:function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(e){var a,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:g(),t.abrupt("return",this.downloadCanvas(e,a,"png",this.qualityRatio));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),z=new W,U=(a("1564"),a("6a73"),a("a0ef"),a("281b"),a("4c09")),L=a("e3ee"),H={normal:function(t){return t},hdlj:function(t){for(var e=t.data,a=0;a<e.length;a+=4){var n=(e[a]+e[a+1]+e[a+2])/3;e[a]=e[a+1]=e[a+2]=n}return t},hblj:function(t){for(var e=t.data,a=0;a<e.length;a+=4){var n=(e[a]+e[a+1]+e[a+2])/3;e[a]=e[a+1]=e[a+2]=n>=125?255:0}return t},fxlj:function(t){for(var e=t.data,a=0;a<e.length;a+=4)e[a]=255-e[a],e[a+1]=255-e[a+1],e[a+2]=255-e[a+2];return t},qslj:function(t){for(var e=t.data,a=0;a<e.length;a++){var n=Math.floor((Math.min(e[a],e[a+1],e[a+2])+Math.max(e[a],e[a+1],e[a+2]))/2);e[a]=e[a+1]=e[a+2]=n}return t},dslj:function(t){for(var e=t.data,a=0;a<e.length;a++)e[4*a+2]=0,e[4*a+1]=0;return t},hjlj:function(t){for(var e=t.data,a=0;a<e.length;a++){var n=e[4*a],r=e[4*a+1],i=e[4*a+2],o=.393*n+.769*r+.189*i,s=.349*n+.686*r+.168*i,l=.272*n+.534*r+.131*i,c=[o,s,l].map((function(t){return t<0?0:t>255?255:t})),u=Object(L["a"])(c,3);e[4*a]=u[0],e[4*a+1]=u[1],e[4*a+2]=u[2]}return t},rzlj:function(t){for(var e=t.data,a=0;a<e.length;a++){var n=e[4*a],r=e[4*a+1],i=e[4*a+2],o=128*n/(r+i+1),s=128*r/(n+i+1),l=128*i/(r+n+1),c=[o,s,l].map((function(t){return t<0?-1*t:t})),u=Object(L["a"])(c,3);e[4*a]=u[0],e[4*a+1]=u[1],e[4*a+2]=u[2]}return t},bdlj:function(t){for(var e=t.data,a=0;a<e.length;a++){var n=e[4*a],r=e[4*a+1],i=e[4*a+2],o=3*(n-r-i)/2,s=3*(r-n-i)/2,l=3*(i-r-n)/2,c=[o,s,l].map((function(t){return t<0?-1*t:t})),u=Object(L["a"])(c,3);e[4*a]=u[0],e[4*a+1]=u[1],e[4*a+2]=u[2]}return t},lhhlj:function(t){for(var e=t.data,a=0;a<e.length;a++){var n=e[4*a],r=e[4*a+1],i=e[4*a+2],o=Math.abs(r-i+r+n)*n/256,s=Math.abs(i-r+i+n)*n/256,l=Math.abs(i-r+i+n)*r/256,c=[o,s,l].map((function(t){return t<0?0:t>255?255:t})),u=Object(L["a"])(c,3);e[4*a]=u[0],e[4*a+1]=u[1],e[4*a+2]=u[2]}return t},adlj:function(t){for(var e=t.data,a=0;a<e.length;a++){var n=e[4*a],r=e[4*a+1],i=e[4*a+2],o=n*n/255,s=r*r/255,l=i*i/255,c=[o,s,l].map((function(t){return t<0?0:t>255?255:t})),u=Object(L["a"])(c,3);e[4*a]=u[0],e[4*a+1]=u[1],e[4*a+2]=u[2]}return t},gsmmlj:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e/3,n=function(t,e,a){var n=e+t;return n<0?n=-n:n>=a&&(n=a+t-e),n},r=t.data,i=t.height,o=t.width,s=0,l=2*e+1,c=[],u=1/(2*a*a*Math.PI),f=-u*Math.PI,h=-e;h<=e;h++)for(var d=-e;d<=e;d++){var m=u*Math.exp((h*h+d*d)*f);c.push(m),s+=m}for(var v=(e+1)*(e+1),p=0;p<v;p++)c[p]/=s;for(var g=0;g<o;g++)for(var b=0;b<i;b++){for(var y=0,w=0,k=0,x=-e;x<=e;x++)for(var O=n(x,g,o),j=-e;j<=e;j++){var _=n(j,b,i),E=4*(_*o+O),S=j+e,D=x+e;y+=r[E]*c[S*l+D],w+=r[E+1]*c[S*l+D],k+=r[E+2]*c[S*l+D]}var C=4*(b*o+g);r[C]=~~y,r[C+1]=~~w,r[C+2]=~~k}return t}},B=new Map([["normal",H.normal],["hdlj",H.hdlj],["hblj",H.hblj],["fxlj",H.fxlj],["qslj",H.qslj],["dslj",H.dslj],["hjlj",H.hjlj],["rzlj",H.rzlj],["bdlj",H.bdlj],["lhhlj",H.lhhlj],["adlj",H.adlj],["gsmmlj",H.gsmmlj]]),F=function(t){var e,a,n,r,i=t[0]/255,o=t[1]/255,s=t[2]/255,l=0,c=Math.max(i,o,s),u=c-Math.min(i,o,s),f=function(t){return(c-t)/6/u+.5};return 0===u?l=r=0:(r=u/c,e=f(i),a=f(o),n=f(s),i===c?l=n-a:o===c?l=1/3+e-n:s===c&&(l=2/3+a-e),l<0?l+=1:l>1&&(l-=1)),[Math.round(360*l),Math.round(100*r),Math.round(100*c)]},V=function(t){var e=t[0],a=t[1],n=t[2],r=0,i=0,o=0;if(0===a)e=a=n=Math.round(255*n/100),r=e,i=a,o=n;else{a/=100,n/=100;var s=Math.floor(e/60)%6,l=e/60-s,c=n*(1-a),u=n*(1-a*l),f=n*(1-a*(1-l));switch(s){case 0:r=n,i=f,o=c;break;case 1:r=u,i=n,o=c;break;case 2:r=c,i=n,o=f;break;case 3:r=c,i=u,o=n;break;case 4:r=f,i=c,o=n;break;case 5:r=n,i=c,o=u;break}r=Math.round(255*r),i=Math.round(255*i),o=Math.round(255*o)}return[r,i,o]},q=function(t,e){for(var a=t.data,n=Object(L["a"])(e,3),r=n[0],i=n[1],o=n[2],s=0;s<a.length;s+=4){var l=F([a[s],a[s+1],a[s+2]]);l[0]*=1+r,l[1]*=1+i,l[2]*=1+o;var c=V(Object(U["a"])(l));a[s]=c[0],a[s+1]=c[1],a[s+2]=c[2]}return t},X=function(){function t(){Object(w["a"])(this,t)}return Object(k["a"])(t,[{key:"createCanvasElement",value:function(t,e){var a=document.createElement("canvas");return a.setAttribute("width",this.convertPX(t)),a.setAttribute("height",this.convertPX(e)),a}},{key:"convertPX",value:function(t){if("number"===typeof t)return"".concat(t,"px");if("string"===typeof t)return/px^/.test(t)?t:"".concat(t,"px");throw new Error("".concat(t," 类型错误"))}},{key:"parseIntPlus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return parseInt(String(t),e)}},{key:"convertRad",value:function(t){return Math.PI/180*t}},{key:"convertDataURL",value:function(t,e){return new Promise((function(a){var n=new FileReader;e&&"dataURL"!==e?n.readAsText(t):n.readAsDataURL(t),n.onload=function(){a(n.result)}}))}}]),t}(),K=function(t){Object(x["a"])(a,t);var e=Object(O["a"])(a);function a(t){var n;Object(w["a"])(this,a),n=e.call(this);var r=n.create(t),i=r.canvas,o=r.ctx;return n.canvas=i,n.ctx=o,n}return Object(k["a"])(a,[{key:"getRealWidth",value:function(t,e){var a=Math.sqrt,n=Math.pow;return a(n(t,2)+n(e,2))}},{key:"create",value:function(t){var e=t.width,a=t.height,n=this.createCanvasElement(e,a),r=n.getContext("2d");if(!(r instanceof CanvasRenderingContext2D))throw new Error("ctx is not defined");return n.width=this.getRealWidth(e,a),n.height=e,{canvas:n,ctx:r}}},{key:"canvasTextAutoLine",value:function(t,e,a,n,r){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,o=0,s=e,l=0,c=0;c<a.length;c++)o+=t.measureText(a[c]).width,o>s-n&&(t.fillText(a.substring(l,c),n,r),r+=i,o=0,l=c),c===a.length-1&&t.fillText(a.substring(l,c+1),n,r)}},{key:"renderText",value:function(t){this.clearCanvas();var e=t.text,n=t.rotate,r=t.fillStyle,i=t.fontFamily,o=Math.max(t.fontSize,a.minFontSize),s=Math.sin,l=Math.tan;this.ctx.font="".concat(o,"px ").concat(i),this.ctx.rotate(-n*Math.PI/180),this.ctx.fillStyle=r;var c=this.parseIntPlus(s(n*Math.PI/180)*this.canvasWidth),u=-this.parseIntPlus(c/l((90-n)*Math.PI/180));this.canvasTextAutoLine(this.ctx,this.canvasWidth,e,u+10,c+Number(o)+20,1.4*Number(o))}},{key:"clearCanvas",value:function(){this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight)}},{key:"drawWatermark",value:function(t,e,a,n){var r=n.width,i=n.height,o=n.fontSize;r&&r!==this.canvasWidth&&(this.canvasWidth=r),i&&i!==this.canvasHeight&&(this.canvasHeight=i),n.fontSize=o<10?10:this.parseIntPlus(o),this.renderText(n);var s=t.createPattern(this.canvas,"repeat");s&&(t.fillStyle=s,t.fillRect(0,0,e,a))}},{key:"canvasWidth",get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.max(t,a.minWidth)}},{key:"canvasHeight",get:function(){return this.canvas.height},set:function(t){var e=Math.max(t,a.minHeight);this.canvas.height=this.getRealWidth(this.canvasWidth,e)}}]),a}(X);K.minWidth=50,K.minHeight=50,K.minFontSize=10;var G=function(t){Object(x["a"])(a,t);var e=Object(O["a"])(a);function a(t){var n;Object(w["a"])(this,a),n=e.call(this),n.loading=!1,n.events={};var r=t.ref,i=t.height,o=void 0===i?100:i,s=t.width,l=void 0===s?100:s,c=t.dataURL,u=t.events,f=void 0===u?{}:u;n.ref=r,n.userOption=Object.assign({},a.defaultUserOpt),n.rotateType=0,n.zoomVal=100,n.validate(t);var h=n._create(l,o),d=h.canvas,m=h.ctx;return n.watermarker=new K({width:100,height:50}),n.canvas=d,n.ctx=m,n.events=f,n._setStyle(),c&&n.addImage(c),n}return Object(k["a"])(a,[{key:"validate",value:function(t){var e=t.ref;if(!(e instanceof HTMLElement))throw new Error("ref ".concat(e," 不是HTMLElement"));return!0}},{key:"_setStyle",value:function(){this.ref&&Object.assign(this.ref.style,{"text-align":"center"}),this.canvas&&Object.assign(this.canvas.style,{"transform-origin":"0 0"})}},{key:"_setCanvasBg",value:function(){this.ctx.fillStyle="#fff",this.ctx.fillRect(0,0,this.canvasWidth,this.canvasHeight)}},{key:"_create",value:function(t,e){var a=this.createCanvasElement(t,e);if(!(a instanceof HTMLCanvasElement))throw new Error("canvas is not defined");var n=a.getContext("2d");if(!(n instanceof CanvasRenderingContext2D))throw new Error("ctx is not defined");return this.ref.appendChild(a),{canvas:a,ctx:n}}},{key:"_loadImage",value:function(t){var e=new Image;return e.src=t,new Promise((function(t,a){e.onload=function(){t(e)},e.onerror=function(t){a(t)}}))}},{key:"_renderImage",value:function(){if(this.img){var t=this.img,e=this.userOption.width||this.imgWidth,a=this.userOption.height||this.imgHeight;switch(this.rotateType){case 0:default:this.canvasWidth=e,this.canvasHeight=a,this._setCanvasBg(),this.ctx.drawImage(t,0,0,e,a);break;case 1:this.canvasWidth=a,this.canvasHeight=e,this._setCanvasBg(),this.ctx.save(),this.ctx.rotate(90*Math.PI/180),this.ctx.drawImage(t,0,-a,e,a),this.ctx.restore();break;case 2:this.canvasWidth=e,this.canvasHeight=a,this._setCanvasBg(),this.ctx.save(),this.ctx.rotate(180*Math.PI/180),this.ctx.drawImage(t,-e,-a,e,a),this.ctx.restore();break;case 3:this.canvasWidth=a,this.canvasHeight=e,this._setCanvasBg(),this.ctx.save(),this.ctx.rotate(270*Math.PI/180),this.ctx.drawImage(t,-e,0,e,a),this.ctx.restore();break}this.percent=this.zoomVal}}},{key:"_getImgData",value:function(){var t=this.ctx.getImageData(0,0,this.canvasWidth,this.canvasHeight);return t}},{key:"_makePhotoFilter",value:function(t){if("normal"===this.userOption.filterType)return t;var e=B.get(this.userOption.filterType||"normal"),a=e?e(t):t;return a}},{key:"_makePhotoHSV",value:function(t){var e;return!this.userOption.hsv||null!==(e=this.userOption.hsv)&&void 0!==e&&e.every((function(t){return 0===t}))?t:q(t,this.userOption.hsv)}},{key:"_imgDataProcess",value:function(){var t=this._getImgData();t=this._makePhotoFilter(t),t=this._makePhotoHSV(t),this.ctx.putImageData(t,0,0)}},{key:"_draw",value:function(){var t=this;return new Promise((function(e,a){try{var n,r;t.clear(),t._renderImage(),t._imgDataProcess(),t.renderOption.enableMark&&t.watermarker.drawWatermark(t.ctx,t.canvasWidth,t.canvasHeight,t.renderOption),null===(n=(r=t.events).onRendered)||void 0===n||n.call(r);var i={imgWidth:t.imgWidth,imgHeight:t.imgHeight};e(i),console.log("drawing successful")}catch(o){console.error("drawing err:",o),a(o)}}))}},{key:"draw",value:function(){var t=this;return new Promise((function(e,a){clearTimeout(t.timer),t.timer=setTimeout(Object(b["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.loading=!0,t._draw().then(e,a).finally((function(){t.loading=!1}));case 2:case"end":return n.stop()}}),n)}))))}))}},{key:"addImage",value:function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.loading=!0,delete this.userOption.width,delete this.userOption.height,"string"===typeof e){t.next=7;break}return t.next=6,this.convertDataURL(e);case 6:e=t.sent;case 7:return t.next=9,this._loadImage(e);case 9:return this.img=t.sent,this.fileName=a,t.abrupt("return",this.draw());case 12:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"rotate",value:function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"number"===typeof e?(e=parseInt(e.toString()),e<0&&(e=e%4+4)):this.rotateType++,this.rotateType=e%4,t.abrupt("return",this.draw());case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"zoom",value:function(t){var e,a;return t=t||this.zoomVal,this.percent=t,null===(e=(a=this.events).onZoom)||void 0===e||e.call(a,t),this}},{key:"save",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"png";if(this.canvas){var a=null===(t=this.fileName)||void 0===t?void 0:t.replace(/\.[a-zA-Z]*$/,"");["jpg","jpeg"].includes(e)&&z.saveAsJPEG(this.canvas,a),"png"===e&&z.saveAsPNG(this.canvas,a)}}},{key:"setOption",value:function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(e){var a,n,r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.rotateType,n=e.plugins,r=void 0===n?[]:n,i=I(e,["rotateType","plugins"]),o=r.includes("watermark"),Object.assign(this.userOption,i,{enableMark:o}),"number"===typeof a&&this.rotate(a),t.abrupt("return",this.draw());case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"clear",value:function(){var t,e;this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),null===(t=(e=this.events).onClear)||void 0===t||t.call(e)}},{key:"destroyed",value:function(){}},{key:"canvasWidth",get:function(){return this.canvas?this.canvas.width:0},set:function(t){this.canvas.width=t}},{key:"canvasHeight",get:function(){return this.canvas?this.canvas.height:0},set:function(t){this.canvas.height=t}},{key:"imgWidth",get:function(){if(!this.img)return 0;var t=this.img.naturalWidth;return t=Math.floor(t),t>a.imgMax?a.imgMax:t}},{key:"imgHeight",get:function(){if(!this.img)return 0;var t=this.img,e=t.naturalWidth,n=t.naturalHeight;return n=e>a.imgMax?a.imgMax*n/e:n,Math.floor(n)}},{key:"renderOption",get:function(){var t=this.userOption,e=t.watermarkWidth,a=t.watermarkHeight,n=I(t,["watermarkWidth","watermarkHeight"]);return Object(y["a"])({width:e,height:a},n)}},{key:"percent",set:function(t){"number"!==typeof t||t<=0?console.error("zoomval 必须大于0"):(this.zoomVal=t,Object.assign(this.canvas.style,{width:"".concat(this.canvasWidth*(this.zoomVal/100),"px"),height:"".concat(this.canvasHeight*(this.zoomVal/100),"px")}))}}]),a}(X);G.imgMax=2e3,G.defaultUserOpt={text:"仅用于办理XXXX，他用无效。",fontSize:23,fontFamily:"黑体",fillStyle:"rgba(100, 100, 100, 0.4)",watermarkWidth:280,watermarkHeight:180,rotate:20,enableMark:!0,width:void 0,height:void 0};var Y=G,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"watermark-editor"},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"80px",size:"mini","label-position":"right","label-suffix":"："}},[a("el-form-item",{attrs:{label:"","label-width":"0px"}},[a("el-input",{attrs:{type:"textarea",rows:"4",placeholder:"请输入文案"},model:{value:t.formData.text,callback:function(e){t.$set(t.formData,"text",e)},expression:"formData.text"}})],1),a("el-form-item",{attrs:{label:"色相"}},[a("el-slider",{attrs:{min:-1,max:1,step:.05,"show-input":"","input-size":"mini"},on:{change:function(e){return t.changeHSV(0,e)}},model:{value:t.formData.hsv[0],callback:function(e){t.$set(t.formData.hsv,0,e)},expression:"formData.hsv[0]"}})],1),a("el-form-item",{attrs:{label:"饱和度"}},[a("el-slider",{attrs:{min:-1,max:1,step:.05,"show-input":"","input-size":"mini"},on:{change:function(e){return t.changeHSV(1,e)}},model:{value:t.formData.hsv[1],callback:function(e){t.$set(t.formData.hsv,1,e)},expression:"formData.hsv[1]"}})],1),a("el-form-item",{attrs:{label:"亮度"}},[a("el-slider",{attrs:{min:-1,max:1,step:.05,"show-input":"","input-size":"mini"},on:{change:function(e){return t.changeHSV(2,e)}},model:{value:t.formData.hsv[2],callback:function(e){t.$set(t.formData.hsv,2,e)},expression:"formData.hsv[2]"}})],1),a("el-row",[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{label:"宽（w）"}},[a("el-input",{attrs:{placeholder:"请输入"},on:{change:function(e){return t.changeSize("width",e)}},model:{value:t.w,callback:function(e){t.w=e},expression:"w"}},[a("template",{slot:"append"},[t._v("px")])],2)],1),a("el-form-item",{attrs:{label:"高（h）"}},[a("el-input",{attrs:{placeholder:"请输入"},on:{change:function(e){return t.changeSize("height",e)}},model:{value:t.h,callback:function(e){t.h=e},expression:"h"}},[a("template",{slot:"append"},[t._v("px")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"editor-link"},[a("div",{staticClass:"link-line"}),a("i",{staticClass:"el-icon-link"})])])],1)],1)],1)},J=[],Z=(a("b526"),i["default"].extend({props:{formData:{type:Object,default:function(){return{text:"",fontSize:"",fillStyle:"",watermarkWidth:"",watermarkHeight:"",fontFamily:"",rotate:20,filterType:"normal",hsv:[0,0,0]}}},width:{type:Number,default:0},height:{type:Number,default:0},ratio:{type:Number,default:1}},data:function(){return{timer:0,h:0,w:0}},methods:{changeHSV:function(t,e){var a=this;clearTimeout(this.timer),this.timer=setTimeout((function(){a.formData.hsv.splice(t,1,e)}),500)},changeSize:function(t,e){var a=this.h,n=this.w;"width"===t?a=this.h=Math.floor(e*this.ratio):n=this.w=Math.floor(e/this.ratio),this.$emit("rerender",Object(y["a"])(Object(y["a"])({},this.formData),{},{height:a,width:n}))}},watch:{width:function(t){this.w=t},height:function(t){this.h=t}}})),tt=Z,et=(a("dcea"),a("c701")),at=Object(et["a"])(tt,Q,J,!1,null,"2e1a24a6",null),nt=at.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"layout-container"},[a("el-header",{staticClass:"layout-header",attrs:{height:"48px"}},[t._t("header",[t._v("Header")])],2),a("el-container",{staticClass:"layout-content"},[a("el-aside",{staticClass:"layout-aside aside-left",attrs:{width:"120px"}},[t._t("aside-left",[t._v("Aside")])],2),a("el-container",{staticStyle:{width:"100%",height:"100%","flex-direction":"column"}},[a("el-header",{staticClass:"layout-tool",attrs:{height:"32px"}},[t._t("tool",[t._v("Tool")])],2),a("el-main",[t._t("default",[t._v("Main")])],2)],1),a("el-aside",{staticClass:"layout-aside aside-right",attrs:{width:"300px"}},[t._t("aside",[t._v("Aside")])],2)],1),t.$slots.footer?a("el-footer",{staticClass:"layout-footer",attrs:{height:"32px"}},[t._t("footer",[t._v("Footer")])],2):t._e()],1)},it=[],ot=(a("a592"),{}),st=Object(et["a"])(ot,rt,it,!1,null,"d9fd86fa",null),lt=st.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"watermark-header"},[a("div",{staticClass:"watermark-header-left"},[a("watermark-upload",{on:{change:function(e){return t.$emit("file-change",e)}}}),a("el-form",{ref:"form",staticStyle:{margin:"0 16px",height:"100%"},attrs:{inline:"",model:t.formData,size:"mini"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"0"===t.activeName,expression:"activeName === '0'"}],staticClass:"watermark-header-tool--container"},[a("el-form-item",{attrs:{label:"插件："}},[a("el-checkbox-group",{model:{value:t.formData.plugins,callback:function(e){t.$set(t.formData,"plugins",e)},expression:"formData.plugins"}},[a("el-checkbox",{attrs:{label:"watermark"}},[t._v("明水印")]),a("el-checkbox",{attrs:{label:"latent-watermark",disabled:""}},[t._v("暗水印")])],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"===t.activeName,expression:"activeName === '1'"}],staticClass:"watermark-header-tool--container"},[a("el-form-item",{attrs:{label:"字号"}},[a("el-select",{model:{value:t.formData.fontSize,callback:function(e){t.$set(t.formData,"fontSize",e)},expression:"formData.fontSize"}},t._l(t.fontSizeOption,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1),a("el-form-item",{attrs:{label:"字体"}},[a("el-select",{model:{value:t.formData.fontFamily,callback:function(e){t.$set(t.formData,"fontFamily",e)},expression:"formData.fontFamily"}},t._l(t.fontFamilyOption,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1),a("el-form-item",{attrs:{label:"水印框宽(px)"}},[a("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right"},model:{value:t.formData.watermarkWidth,callback:function(e){t.$set(t.formData,"watermarkWidth",e)},expression:"formData.watermarkWidth"}})],1),a("el-form-item",{attrs:{label:"水印框高(px)"}},[a("el-input-number",{staticStyle:{width:"100px"},attrs:{"controls-position":"right"},model:{value:t.formData.watermarkHeight,callback:function(e){t.$set(t.formData,"watermarkHeight",e)},expression:"formData.watermarkHeight"}})],1),a("el-form-item",{attrs:{label:"字体颜色"}},[a("el-color-picker",{attrs:{predefine:t.predefineColors,"show-alpha":""},model:{value:t.formData.fillStyle,callback:function(e){t.$set(t.formData,"fillStyle",e)},expression:"formData.fillStyle"}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"2"===t.activeName,expression:"activeName === '2'"}],staticClass:"watermark-header-tool--container"},[a("el-form-item",{attrs:{label:"水印倾斜(°)"}},[a("el-input-number",{attrs:{"controls-position":"right"},model:{value:t.formData.rotate,callback:function(e){t.$set(t.formData,"rotate",e)},expression:"formData.rotate"}})],1),a("el-form-item",{attrs:{label:"滤镜"}},[a("el-select",{staticStyle:{width:"100px"},model:{value:t.formData.filterType,callback:function(e){t.$set(t.formData,"filterType",e)},expression:"formData.filterType"}},t._l(t.filters,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1)],1)])],1),a("div",{staticClass:"watermark-header-right"},[a("el-button",{attrs:{size:"mini",type:"primary",disabled:t.disabledSave},on:{click:function(e){return t.$emit("save")}}},[t._v(" 导出 ")])],1)])},ut=[],ft=[10,12,14,16,18,20,22,24,26,28,32,48,64,72],ht=["Araial","Verdana","Georgia","Times New Roman","Courier New","Impact","Comic Sans MS","Tahoma","Garamond","Lucida Console","微软雅黑","宋体","黑体","楷体"],dt=["rgba(0, 0, 0, 0.1)","rgba(0, 0, 0, 0.2)","rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.4)","rgba(0, 0, 0, 0.5)","#ddd","#aaa","#999","#666","#555"],mt=[{label:"正常",value:"normal"},{label:"灰度滤镜",value:"hdlj"},{label:"黑白滤镜",value:"hblj"},{label:"反向滤镜",value:"fxlj"},{label:"去色滤镜",value:"qslj"},{label:"单色滤镜",value:"dslj"},{label:"怀旧滤镜",value:"hjlj"},{label:"熔铸滤镜",value:"rzlj"},{label:"冰冻滤镜",value:"bdlj"},{label:"连环画滤镜",value:"lhhlj"},{label:"暗调滤镜",value:"adlj"},{label:"高斯模糊滤镜",value:"gsmmlj"}],vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"watermark-upload"},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"","auto-upload":!1,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,"on-exceed":t.handleExceed,"on-change":t.handleChange,"file-list":t.fileList,"list-type":"picture","show-file-list":!1,multiple:!1}},[a("el-button",{attrs:{type:"text"}},[a("i",{staticClass:"el-icon-folder-add",staticStyle:{"font-size":"14px"}}),t._v(" 添加 ")])],1)],1)},pt=[],gt=i["default"].extend({name:"upload",data:function(){return{fileList:[]}},methods:{handleChange:function(t){this.$emit("change",t)},handleRemove:function(t,e){this.$emit("change",e)},handleExceed:function(t,e){this.$message.warning("当前限制选择 10 个文件，本次选择了 ".concat(t.length," 个文件，共选择了 ").concat(t.length+e.length," 个文件"))},beforeRemove:function(t){return this.$confirm("确定移除 ".concat(t.name,"？"))}}}),bt=gt,yt=(a("ec40"),Object(et["a"])(bt,vt,pt,!1,null,"05fc323f",null)),wt=yt.exports,kt=i["default"].extend({components:{WatermarkUpload:wt},props:{formData:{type:Object,default:function(){return{}}},disabledSave:{type:Boolean,default:!1}},data:function(){return{fontFamilyOption:ht.map((function(t){return{lable:t,value:t}})),fontSizeOption:ft.map((function(t){return{label:"".concat(t,"px"),value:t}})),predefineColors:dt,filters:mt}},computed:{$WatermarkStore:function(){return R},activeName:function(){return this.$WatermarkStore._mainHeaderActiveName}},methods:{}}),xt=kt,Ot=(a("9add"),Object(et["a"])(xt,ct,ut,!1,null,"15a2f796",null)),jt=Ot.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"watermark-slider"},t._l(t.fileList,(function(e){return a("li",{key:e.uid,staticClass:"file-box",class:{active:t.active===e.uid},on:{click:function(a){t.active!==e.uid&&t.$emit("change",e)}}},[a("label",{staticClass:"file-status-label",on:{click:function(a){return a.stopPropagation(),t.$emit("delete",e)}}},[a("i",{staticClass:"el-icon-check"}),a("i",{staticClass:"el-icon-close"})]),a("img",{attrs:{src:e.url,alt:e.name}})])})),0)},Et=[],St=i["default"].extend({props:{fileList:{type:Array,default:function(){return[]}},active:{type:[Number,String]}}}),Dt=St,Ct=(a("1aa5"),Object(et["a"])(Dt,_t,Et,!1,null,"c107914a",null)),At=Ct.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-header"},[a("div",{staticClass:"main-header-left"},[t._v("watermark")]),a("div",{staticClass:"main-header-center"},[a("main-header-editor")],1),a("div",{staticClass:"main-header-right"},[a("Bookmarks")],1)])},Mt=[],It=(a("eb09"),a("0019"),a("8e05")),Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bookmarks"},[a("el-button",{attrs:{type:"text"},on:{click:t.onCollectBefore}},[a("i",{staticClass:"el-icon-star-off",staticStyle:{"font-size":"16px"}}),t._v(" 收藏水印 ")]),a("el-divider",{attrs:{direction:"vertical"}}),a("el-popover",{attrs:{placement:"bottom",width:"350",trigger:"click"}},[a("el-table",{attrs:{data:t.bookmarks}},[a("el-table-column",{attrs:{type:"index",label:"#",width:"40"}}),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"160"}}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return t.handleMake(e.row)}}},[t._v("应用")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.row)}}},[t._v("删除")])]}}])})],1),a("el-button",{attrs:{slot:"reference",type:"text"},on:{click:t.handleGetBookmarks},slot:"reference"},[a("i",{staticClass:"el-icon-collection"}),t._v(" 书签 ")])],1),a("el-dialog",{attrs:{title:"收藏水印",visible:t.collectDialog.show,width:"400px","close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.collectDialog,"show",e)},close:t.onClose}},[a("div",[a("el-form",{ref:"form",attrs:{model:t.collectDialog.formData,"label-width":"100px",size:"small","label-suffix":"：",rules:t.collectDialog.rules}},[a("el-form-item",{attrs:{label:"书签名",prop:"name"}},[a("el-input",{attrs:{maxlength:"24"},model:{value:t.collectDialog.formData.name,callback:function(e){t.$set(t.collectDialog.formData,"name",e)},expression:"collectDialog.formData.name"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",disabled:t.collectDialog.loading},on:{click:t.onClose}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small",disabled:t.collectDialog.loading},on:{click:t.onCollect}},[t._v("保存")])],1)])],1)},Pt=[],$t=i["default"].extend({data:function(){return{collectDialog:{formData:{name:""},loading:!1,show:!1,rules:{name:[{required:!0,message:"书签名不能为空"}]}}}},computed:{$Watermark:function(){return R},bookmarks:function(){return this.$Watermark.bookmarks},watermarkOption:function(){return this.$Watermark.option}},methods:{handleAddCollect:function(t){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={name:t,id:g(),option:JSON.stringify(e.watermarkOption)},a.next=3,e.$Watermark.addBookmark(n);case 3:r=a.sent,i=r.code,o=r.message,"0"===i&&e.onClose(),e.$message({type:"0"===i?"success":"warning",message:o});case 8:case"end":return a.stop()}}),a)})))()},handleGetBookmarks:function(){this.$Watermark.getBookmarks()},handleMake:function(t){var e=JSON.parse(t.option);this.$Watermark.MERGE_OPTION(e)},handleDelete:function(t){this.$Watermark.deleteBookmarkById(t.id)},onCollectBefore:function(){var t=this.watermarkOption.text||g();t=t.length>24?t.substring(0,22)+"...":t,this.collectDialog.formData.name=t,this.collectDialog.show=!0},onCollect:function(){var t=this,e=this.$refs["form"];e.validate((function(e){e&&t.handleAddCollect(t.collectDialog.formData.name)}))},onClose:function(){var t=this.$refs["form"];t.resetFields(),this.collectDialog.show=!1}},created:function(){var t=localStorage.getItem("bookmarks")||"",e=t?JSON.parse(t):[];this.$Watermark.UPDATE_BOOKMARKS(e)}}),Nt=$t,Wt=(a("e356"),Object(et["a"])(Nt,Tt,Pt,!1,null,"00a0f816",null)),zt=Wt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tabs",{staticClass:"main-header-editor",on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"编辑",name:"1"}}),a("el-tab-pane",{attrs:{label:"特色功能",name:"2"}}),a("el-tab-pane",{attrs:{label:"工具",name:"0"}})],1)},Lt=[],Ht=i["default"].extend({data:function(){return{}},computed:{$WatermarkStore:function(){return R},activeName:{get:function(){return this.$WatermarkStore._mainHeaderActiveName},set:function(t){this.$WatermarkStore.UPDATE_INFO({mainHeaderActiveName:t})}}},methods:{handleClick:function(){}}}),Bt=Ht,Ft=(a("0988"),Object(et["a"])(Bt,Ut,Lt,!1,null,null,null)),Vt=Ft.exports,qt=i["default"].extend({components:{MainHeaderEditor:Vt,Bookmarks:zt},computed:{$UserStore:function(){return It["a"]},isLogin:function(){return this.$UserStore._isLogin}},methods:{toqueryStr:function(t){return Object.keys(t).reduce((function(e,a){return t[a]&&e.push("".concat(a,"=").concat(t[a])),e}),[]).join("&")},buildWeChartQrcodeUrl:function(){var t=" https://open.weixin.qq.com/connect/qrconnect",e={appid:"wxb665795cfaf33cf7",redirect_uri:encodeURI(""),response_type:"code",scope:"snsapi_login",state:g()};return"".concat(t,"?").concat(this.toqueryStr(e))},handleLogin:function(){window.open(this.buildWeChartQrcodeUrl())}}}),Xt=qt,Kt=(a("f4cd"),Object(et["a"])(Xt,Rt,Mt,!1,null,null,null)),Gt=Kt.exports,Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-zoom"},[a("div",{staticClass:"w-zoom-minus",on:{click:t.handleMinus}},[a("i",{staticClass:"el-icon-minus",class:{"is-disabled":t.renderValue===this.predefineRange[0]}})]),a("el-tooltip",{attrs:{content:"缩放","open-delay":500,placement:"top"}},[a("div",{staticClass:"w-zoom-input"},[t._v(t._s(t.renderValue)+"%")])]),a("div",{staticClass:"w-zoom-add",on:{click:t.handleAdd}},[a("i",{staticClass:"el-icon-plus",class:{"is-disabled":t.renderValue===this.predefineRange[this.predefineRange.length-1]}})]),a("el-tooltip",{attrs:{content:"左旋转","open-delay":500,placement:"top"}},[a("span",{staticClass:"w-zoom-reset",on:{click:function(e){return t.handleRotate(t.rotateType-1)}}},[a("i",{staticClass:"el-icon-refresh-left"})])]),a("el-tooltip",{attrs:{content:"右旋转","open-delay":500,placement:"top"}},[a("span",{staticClass:"w-zoom-reset",on:{click:function(e){return t.handleRotate(t.rotateType+1)}}},[a("i",{staticClass:"el-icon-refresh-right"})])]),a("el-tooltip",{attrs:{content:"水平镜像","open-delay":500,placement:"top"}},[a("span",{staticClass:"w-zoom-reset",on:{click:function(e){return t.handleRotate(t.rotateType+1)}}},[a("i",{staticClass:"el-icon-refresh-right"})])]),a("el-tooltip",{attrs:{content:"垂直镜像","open-delay":500,placement:"top"}},[a("span",{staticClass:"w-zoom-reset",on:{click:function(e){return t.handleRotate(t.rotateType+1)}}},[a("i",{staticClass:"el-icon-refresh-right"})])]),a("el-tooltip",{attrs:{content:"重置","open-delay":500,placement:"top"}},[a("span",{staticClass:"w-zoom-reset",on:{click:t.handleReset}},[a("i",{staticClass:"el-icon-refresh"})])])],1)},Qt=[],Jt=(a("bf6c"),i["default"].extend({model:{prop:"value",event:"change"},props:{value:{type:Number,default:0},predefineRange:{type:Array,default:function(){return[10,20,25,50,75,100,110,125,150,175,200]}},showReset:{type:Boolean,default:!1}},data:function(){return{resetVal:100,rotateType:0}},computed:{renderValue:function(){return this.predefineRange.includes(this.value)?this.value:100}},methods:{handleMinus:function(){var t=this,e=this.predefineRange.findIndex((function(e){return e===t.renderValue}));e--,e<0||this.$emit("change",this.predefineRange[e])},handleAdd:function(){var t=this,e=this.predefineRange.findIndex((function(e){return e===t.renderValue}));e++;var a=this.predefineRange.length-1;e>a||this.$emit("change",this.predefineRange[e])},handleReset:function(){this.$emit("change",this.resetVal),this.rotateType=0,this.handleRotate(0)},handleRotate:function(t){this.rotateType=t,this.$emit("rotate",t)}},created:function(){this.resetVal=this.value}})),Zt=Jt,te=(a("7334"),Object(et["a"])(Zt,Yt,Qt,!1,null,"67502e9e",null)),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"保存图片",visible:t.show,width:"600px"},on:{"update:visible":function(e){t.show=e},close:t.onClose}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{"element-loading-text":"计算最佳压缩比..."}},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"100px",size:"small","label-suffix":"："}},[a("el-form-item",{attrs:{label:"图片格式",prop:"type"}},[a("el-radio-group",{model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("el-radio",{attrs:{label:"jpeg"}},[t._v(".jpg")]),a("el-radio",{attrs:{label:"png"}},[t._v(".png")])],1)],1),a("el-form-item",{attrs:{label:"推荐压缩比",prop:"quality"}},[a("el-slider",{attrs:{min:.1,max:1,step:.01,marks:t.marks,"show-input":""},model:{value:t.formData.quality,callback:function(e){t.$set(t.formData,"quality",e)},expression:"formData.quality"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.onClose}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small",disabled:t.loading},on:{click:t.download}},[t._v("保存")])],1)])},ne=[],re=function(){function t(e,a){Object(w["a"])(this,t),this.minSize=1,this.quality=t.MAX_QUALITY,this.isBreak=!1,this.canvas=e,this.type=a}return Object(k["a"])(t,[{key:"getMinSize",value:function(){return N(this.canvas,this.type,t.MIN_QUALITY).then((function(t){return t.size}))}},{key:"compress",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.MAX_QUALITY;return N(this.canvas,this.type,a).then((function(n){var r=n.size/e.minSize;return r<t.MAX_RATIO||e.isBreak||a<t.MIN_QUALITY?a:e.compress((100*a-1)/100)}))}},{key:"change",value:function(t){this.type=t}},{key:"getQuality",value:function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getMinSize();case 2:return this.minSize=t.sent,t.next=5,this.compress();case 5:return this.quality=t.sent,t.abrupt("return",this.quality);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}();re.MAX_QUALITY=.98,re.MIN_QUALITY=.4,re.MAX_RATIO=2.8;var ie,oe=re,se=i["default"].extend({props:["value","name"],data:function(){return{formData:{quality:.93,type:"jpeg"},marks:{},series:[],loading:!1}},computed:{show:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{download:function(){var t,e=this.formData,a=e.type,n=e.quality,r=null===(t=this.$parent.watermark)||void 0===t?void 0:t.canvas;z.downloadCanvas(r,this.name,a,n),this.show=!1},getQuality:function(){var t,e=this,a=null===(t=this.$parent.watermark)||void 0===t?void 0:t.canvas;a&&(this.loading=!0,this.instant=new oe(a,this.formData.type),this.instant.getQuality().then((function(t){e.loading=!1,e.formData.quality=t})))},onClose:function(){this.show=!1,this.instant.isBreak=!0,this.$refs["form"].resetFields()}},watch:{show:function(t){t&&this.getQuality()},"formData.type":function(t,e){this.show&&t!==e&&this.getQuality()}}}),le=se,ce=Object(et["a"])(le,ae,ne,!1,null,null,null),ue=ce.exports,fe=function(){function t(e){var a=this;Object(w["a"])(this,t),this.startPos=[0,0],this.isMousemove=!1,this.scrollPos=[0,0],this.maxOffset=[0,0],this.onMousedown=function(t){if(a.isScroll){a.maxOffset=a.getMaxOffset();var e=t.screenX,n=t.screenY;a.startPos=[e,n],a.scrollPos=[a.el.scrollLeft,a.el.scrollTop],window.addEventListener("mouseup",a.onMouseup),window.addEventListener("mousemove",a.onMousemove)}},this.onMousemove=function(t){var e=t.screenX,n=t.screenY;a.isMousemove=!0,requestAnimationFrame((function(){a.onMoveChange([e,n])}))},this.onMouseup=function(t){var e=t.screenX,n=t.screenY;a.onMoveChange([e,n]),a.isMousemove=!1,window.removeEventListener("mouseup",a.onMouseup),window.removeEventListener("mousemove",a.onMousemove)},this.el=e,this.register()}return Object(k["a"])(t,[{key:"getMaxOffset",value:function(){var t=this.el,e=t.scrollWidth,a=t.offsetWidth,n=t.scrollHeight,r=t.offsetHeight;return[Math.max(e-a,0),Math.max(n-r,0)]}},{key:"register",value:function(){var t=this.el;t.addEventListener("mousedown",this.onMousedown)}},{key:"onMoveChange",value:function(t){if(this.isMousemove){var e=Object(L["a"])(this.startPos,2),a=e[0],n=e[1],r=Object(L["a"])(t,2),i=r[0],o=r[1],s=Object(L["a"])(this.scrollPos,2),l=s[0],c=s[1],u=l-(i-a),f=c-(o-n);this.setPosition(u,f)}}},{key:"setPosition",value:function(t,e){var a=Object(L["a"])(this.maxOffset,2),n=a[0],r=a[1];t>=0&&t<=n&&(this.el.scrollLeft=t),e>=0&&e<=r&&(this.el.scrollTop=e)}},{key:"onDestroy",value:function(){var t=this.el;t.removeEventListener("mousedown",this.onMousedown)}},{key:"isScroll",get:function(){var t=this.el,e=t.scrollWidth,a=t.offsetWidth,n=t.scrollHeight,r=t.offsetHeight;return e!==a||n!==r}}]),t}(),he=fe,de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"用户须知",visible:t.show,width:"400px"},on:{"update:visible":function(e){t.show=e},close:t.onClose}},[a("div",[t._v("本应用为纯前端实现，不会上传用户任何图片信息。")]),a("span",{staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-checkbox",{staticStyle:{"margin-right":"20px"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("不再提示")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.onClose}},[t._v("确定")])],1)])},me=[],ve=i["default"].extend({data:function(){return{checked:!1,show:!1}},methods:{onClose:function(){this.show=!1,this.checked&&localStorage.setItem("USER_MESSAGE",1)}},mounted:function(){var t=!!localStorage.getItem("USER_MESSAGE");t||(this.show=!0)}}),pe=ve,ge=Object(et["a"])(pe,de,me,!1,null,null,null),be=ge.exports,ye=a("cf05"),we=a.n(ye),ke=(a("1660"),{name:"example.jpg",uid:g(),url:we.a,raw:void 0}),xe=i["default"].extend({name:"watermark",components:{MainHeader:Gt,WatermarkEditor:nt,WatermarkLayout:lt,WatermarkHeader:jt,WatermarkSlider:At,WatermarkTool:ee,SaveDialog:ue,UserAlert:be},data:function(){return{watermark:null,drawFileUid:ke.uid,fileList:[],zoom:100,showSaveDialog:!1,origin:{h:0,w:0,ratio:1},loading:!1}},computed:{$Watermark:function(){return R},option:function(){return this.$Watermark.option},file:{get:function(){var t=this;return this.fileList.find((function(e){return e.uid===t.drawFileUid}))},set:function(t){this.drawFileUid=null===t||void 0===t?void 0:t.uid}},imageName:function(){var t,e=(null===(t=this.file)||void 0===t?void 0:t.name)||"",a=e.replace(/\.[a-zA-Z]*$/,"");return a}},methods:{handleAddFile:function(t){var e,a=/png|jpeg|jpg/g;if(!a.test(null===t||void 0===t||null===(e=t.raw)||void 0===e?void 0:e.type))return this.$message({message:"请选择图片格式（.png|.jpg|.jpeg）文件。",type:"warning"});this.fileList.push(t),this.fileList=this.fileList.filter((function(t){return t!==ke})),this.file=t,this.draw()},handlePreview:function(t){this.file=t,this.draw()},handleRotate:function(t){var e,a=this;this.loading=!0,null===(e=this.watermark)||void 0===e||e.rotate(t).then((function(){a.loading=!1}))},setOption:function(t){var e,a=this;return this.loading=!0,null===(e=this.watermark)||void 0===e?void 0:e.setOption(t).then((function(){a.loading=!1}))},handleOptionChange:function(t){this.$Watermark.UPDATE_OPTION(t),this.setOption(t)},draw:function(){var t,e,a=this;this.file?(this.loading=!0,null===(e=this.watermark)||void 0===e||e.addImage(this.file.url,this.file.name).then((function(t){a.loading=!1,a.origin.w=t.imgWidth,a.origin.h=t.imgHeight,a.origin.ratio=t.imgHeight/t.imgWidth}))):null===(t=this.watermark)||void 0===t||t.clear()},handleDelete:function(t){var e=this;this.$confirm("确定移除 ".concat(t.name,"？")).then((function(a){var n;"confirm"===a&&(e.fileList=null===(n=e.fileList)||void 0===n?void 0:n.filter((function(e){return e!==t})),e.draw())}))},exportImage:function(){this.showSaveDialog=!0}},mounted:function(){var t,e=this,a=this.$refs.watermark,n={onZoom:function(t){return e.zoom=t}};this.watermark=new Y({ref:a,events:n}),this.file&&(null===(t=this.watermark)||void 0===t||t.addImage(this.file.url,this.file.name));var r=this.$refs["ctx-contanier"];ie=new he(r)},destroyed:function(){var t;null===(t=this.watermark)||void 0===t||t.destroyed(),ie.onDestroy()},watch:{option:{handler:function(t){this.file&&this.handleOptionChange(t)},deep:!0},zoom:function(t){var e;null===(e=this.watermark)||void 0===e||e.zoom(t)}}}),Oe=xe,je=Object(et["a"])(Oe,n,r,!1,null,null,null);e["default"]=je.exports},"7d5b":function(t,e,a){"use strict";var n=a("1be6").charAt;t.exports=function(t,e,a){return e+(a?n(t,e).length:1)}},"948b":function(t,e,a){"use strict";var n=a("3124"),r=a("b973"),i=a("3c6b"),o=a("4a35"),s=a("b804"),l=a("21e0"),c=a("7d5b"),u=a("4057"),f=Math.max,h=Math.min,d=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,a,n){var g=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=n.REPLACE_KEEPS_$0,y=g?"$":"$0";return[function(a,n){var r=l(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,r,n):e.call(String(r),a,n)},function(t,n){if(!g&&b||"string"===typeof n&&-1===n.indexOf(y)){var i=a(e,t,this,n);if(i.done)return i.value}var l=r(t),d=String(this),m="function"===typeof n;m||(n=String(n));var v=l.global;if(v){var k=l.unicode;l.lastIndex=0}var x=[];while(1){var O=u(l,d);if(null===O)break;if(x.push(O),!v)break;var j=String(O[0]);""===j&&(l.lastIndex=c(d,o(l.lastIndex),k))}for(var _="",E=0,S=0;S<x.length;S++){O=x[S];for(var D=String(O[0]),C=f(h(s(O.index),d.length),0),A=[],R=1;R<O.length;R++)A.push(p(O[R]));var M=O.groups;if(m){var I=[D].concat(A,C,d);void 0!==M&&I.push(M);var T=String(n.apply(void 0,I))}else T=w(D,d,C,A,M,n);C>=E&&(_+=d.slice(E,C)+T,E=C+D.length)}return _+d.slice(E)}];function w(t,a,n,r,o,s){var l=n+t.length,c=r.length,u=v;return void 0!==o&&(o=i(o),u=m),e.call(s,u,(function(e,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,n);case"'":return a.slice(l);case"<":s=o[i.slice(1,-1)];break;default:var u=+i;if(0===u)return e;if(u>c){var f=d(u/10);return 0===f?e:f<=c?void 0===r[f-1]?i.charAt(1):r[f-1]+i.charAt(1):e}s=r[u-1]}return void 0===s?"":s}))}}))},"9add":function(t,e,a){"use strict";a("44d7")},"9c4c":function(t,e,a){},"9f1b":function(t,e,a){"use strict";var n=a("485e"),r=a("bc2f").find,i=a("3f9d"),o=a("64f1"),s="find",l=!0,c=o(s);s in[]&&Array(1)[s]((function(){l=!1})),n({target:"Array",proto:!0,forced:l||!c},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(s)},a088:function(t,e,a){"use strict";var n=a("485e"),r=a("bc2f").some,i=a("3891"),o=a("64f1"),s=i("some"),l=o("some");n({target:"Array",proto:!0,forced:!s||!l},{some:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},a392:function(t,e,a){var n=a("d872"),r=a("3c6b"),i=a("4bfa"),o=a("4a35"),s=function(t){return function(e,a,s,l){n(a);var c=r(e),u=i(c),f=o(c.length),h=t?f-1:0,d=t?-1:1;if(s<2)while(1){if(h in u){l=u[h],h+=d;break}if(h+=d,t?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:f>h;h+=d)h in u&&(l=a(l,u[h],h,c));return l}};t.exports={left:s(!1),right:s(!0)}},a592:function(t,e,a){"use strict";a("e16d")},b296:function(t,e,a){},b526:function(t,e,a){"use strict";var n=a("485e"),r=a("fd0b"),i=a("b804"),o=a("4a35"),s=a("3c6b"),l=a("0c3a"),c=a("bab6"),u=a("243e"),f=a("64f1"),h=u("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,v=Math.min,p=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!h||!d},{splice:function(t,e){var a,n,u,f,h,d,b=s(this),y=o(b.length),w=r(t,y),k=arguments.length;if(0===k?a=n=0:1===k?(a=0,n=y-w):(a=k-2,n=v(m(i(e),0),y-w)),y+a-n>p)throw TypeError(g);for(u=l(b,n),f=0;f<n;f++)h=w+f,h in b&&c(u,f,b[h]);if(u.length=n,a<n){for(f=w;f<y-n;f++)h=f+n,d=f+a,h in b?b[d]=b[h]:delete b[d];for(f=y;f>y-n+a;f--)delete b[f-1]}else if(a>n)for(f=y-n;f>w;f--)h=f+n-1,d=f+a-1,h in b?b[d]=b[h]:delete b[d];for(f=0;f<a;f++)b[f+w]=arguments[f+2];return b.length=y-n+a,u}})},ba86:function(t,e,a){},bf6c:function(t,e,a){"use strict";var n=a("485e"),r=a("bc2f").findIndex,i=a("3f9d"),o=a("64f1"),s="findIndex",l=!0,c=o(s);s in[]&&Array(1)[s]((function(){l=!1})),n({target:"Array",proto:!0,forced:l||!c},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(s)},c368:function(t,e,a){"use strict";var n=a("485e"),r=a("dc12");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},d174:function(t,e,a){"use strict";var n=a("35a9"),r=a("efd0"),i=a("1b38"),o=a("d496"),s=a("0117"),l=a("c7d8"),c=a("5cd0"),u=a("bab3"),f=a("aad0"),h=a("8e7d"),d=a("6b64").f,m=a("977b").f,v=a("30cf").f,p=a("0610").trim,g="Number",b=r[g],y=b.prototype,w=l(h(y))==g,k=function(t){var e,a,n,r,i,o,s,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=p(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(i=c.slice(2),o=i.length,s=0;s<o;s++)if(l=i.charCodeAt(s),l<48||l>r)return NaN;return parseInt(i,n)}return+c};if(i(g,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var x,O=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof O&&(w?f((function(){y.valueOf.call(a)})):l(a)!=g)?c(new b(k(e)),a,O):k(e)},j=n?d(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;j.length>_;_++)s(b,x=j[_])&&!s(O,x)&&v(O,x,m(b,x));O.prototype=y,y.constructor=O,o(r,g,O)}},d211:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("2522"),a("034f"),a("3610"),a("fd07"),a("588e"),a("ed88"),a("f644");function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},d7d9:function(t,e,a){"use strict";var n=a("485e"),r=a("aad0"),i=a("880d"),o=a("3b29"),s=a("3c6b"),l=a("4a35"),c=a("bab6"),u=a("0c3a"),f=a("243e"),h=a("6d05"),d=a("7047"),m=h("isConcatSpreadable"),v=9007199254740991,p="Maximum allowed index exceeded",g=d>=51||!r((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),b=f("concat"),y=function(t){if(!o(t))return!1;var e=t[m];return void 0!==e?!!e:i(t)},w=!g||!b;n({target:"Array",proto:!0,forced:w},{concat:function(t){var e,a,n,r,i,o=s(this),f=u(o,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(i=-1===e?o:arguments[e],y(i)){if(r=l(i.length),h+r>v)throw TypeError(p);for(a=0;a<r;a++,h++)a in i&&c(f,h,i[a])}else{if(h>=v)throw TypeError(p);c(f,h++,i)}return f.length=h,f}})},d8cf:function(t,e,a){"use strict";var n=a("aad0");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},dc12:function(t,e,a){"use strict";var n=a("2d0b"),r=a("d8cf"),i=RegExp.prototype.exec,o=String.prototype.replace,s=i,l=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],f=l||u||c;f&&(s=function(t){var e,a,r,s,f=this,h=c&&f.sticky,d=n.call(f),m=f.source,v=0,p=t;return h&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),p=String(t).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==t[f.lastIndex-1])&&(m="(?: "+m+")",p=" "+p,v++),a=new RegExp("^(?:"+m+")",d)),u&&(a=new RegExp("^"+m+"$(?!\\s)",d)),l&&(e=f.lastIndex),r=i.call(h?a:f,p),h?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=f.lastIndex,f.lastIndex+=r[0].length):f.lastIndex=0:l&&r&&(f.lastIndex=f.global?r.index+r[0].length:e),u&&r&&r.length>1&&o.call(r[0],a,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r}),t.exports=s},dcea:function(t,e,a){"use strict";a("3bb9")},e16d:function(t,e,a){},e356:function(t,e,a){"use strict";a("57b2")},eb09:function(t,e,a){"use strict";var n=a("485e"),r=a("4bfa"),i=a("3274"),o=a("3891"),s=[].join,l=r!=Object,c=o("join",",");n({target:"Array",proto:!0,forced:l||!c},{join:function(t){return s.call(i(this),void 0===t?",":t)}})},ec40:function(t,e,a){"use strict";a("9c4c")},ed88:function(t,e,a){var n=a("485e"),r=a("3c6b"),i=a("c59c"),o=a("aad0"),s=o((function(){i(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(t){return i(r(t))}})},f4cd:function(t,e,a){"use strict";a("ba86")},f644:function(t,e,a){var n=a("efd0"),r=a("0825"),i=a("554f"),o=a("13d0");for(var s in r){var l=n[s],c=l&&l.prototype;if(c&&c.forEach!==i)try{o(c,"forEach",i)}catch(u){c.forEach=i}}},f84b:function(t,e,a){},fd07:function(t,e,a){var n=a("485e"),r=a("aad0"),i=a("3274"),o=a("977b").f,s=a("35a9"),l=r((function(){o(1)})),c=!s||l;n({target:"Object",stat:!0,forced:c,sham:!s},{getOwnPropertyDescriptor:function(t,e){return o(i(t),e)}})}}]);